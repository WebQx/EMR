<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebQX‚Ñ¢ OHIF Viewer Integration Demo</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        
        .demo-header {
            background-color: #1976d2;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature-card {
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .feature-card h3 {
            color: #1976d2;
            margin-top: 0;
        }
        
        .code-sample {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid #1976d2;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .code-sample pre {
            margin: 0;
            white-space: pre-wrap;
        }
        
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        
        .language-selector {
            margin: 15px 0;
        }
        
        .language-selector select {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        
        .mock-viewer {
            width: 100%;
            height: 400px;
            background: linear-gradient(45deg, #000 25%, transparent 25%), 
                        linear-gradient(-45deg, #000 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #000 75%), 
                        linear-gradient(-45deg, transparent 75%, #000 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            border: 2px solid #1976d2;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .api-example {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .rbac-demo {
            background: #fff3e0;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .performance-metrics {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .metric-item {
            text-align: center;
            padding: 10px;
            background: white;
            border-radius: 4px;
            border: 1px solid #2196f3;
        }
        
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #1976d2;
        }
        
        .metric-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="demo-header">
        <h1>üè• WebQX‚Ñ¢ OHIF Viewer Integration</h1>
        <p>Comprehensive DICOM imaging solution for clinical dashboards</p>
    </div>

    <div class="demo-container">
        <h2>Integration Overview</h2>
        <p>The WebQX‚Ñ¢ OHIF Viewer integration provides a complete imaging solution that seamlessly embeds into clinical workflows while maintaining security, performance, and accessibility standards.</p>

        <div class="feature-grid">
            <div class="feature-card">
                <h3>üîÑ Custom Workflow Integration</h3>
                <p>Embedded OHIF Viewer with specialty-specific configurations for radiology, cardiology, and oncology workflows.</p>
            </div>
            
            <div class="feature-card">
                <h3>üîê Role-Based Access Control</h3>
                <p>Fine-grained permissions system integrated with WebQX‚Ñ¢ authentication and audit logging.</p>
            </div>
            
            <div class="feature-card">
                <h3>üåç Multilingual Support</h3>
                <p>Support for 10 languages with localized DICOM metadata and UI elements.</p>
            </div>
            
            <div class="feature-card">
                <h3>üéØ Custom Imaging Tools</h3>
                <p>Advanced annotation, measurement, and markup tools with DICOM compliance.</p>
            </div>
            
            <div class="feature-card">
                <h3>‚ö° Performance Optimization</h3>
                <p>Intelligent caching, prefetching, and rendering optimization for large datasets.</p>
            </div>
            
            <div class="feature-card">
                <h3>üîó Enhanced APIs</h3>
                <p>Comprehensive API layer for seamless integration with WebQX‚Ñ¢ components.</p>
            </div>
        </div>

        <div class="demo-section">
            <h3>üìã Basic Implementation</h3>
            <p>Here's how to integrate the OHIF Viewer into a WebQX‚Ñ¢ clinical dashboard:</p>
            
            <div class="code-sample">
                <pre><code>import { OHIFViewer, initializeImagingModule } from './modules/imaging';

// Initialize the imaging module
const imagingModule = initializeImagingModule({
  dicomServerUrl: 'https://your-dicom-server.com',
  enableCache: true,
  cacheSize: 1024,
  defaultLanguage: 'en'
});

// Use in React component
function ClinicalDashboard({ user, studyId }) {
  return (
    &lt;OHIFViewer
      studyInstanceUID={studyId}
      user={user}
      workflow="radiology-interpretation"
      language={user.preferredLanguage}
      theme="dark"
      onStudyLoad={(study) => console.log('Study loaded:', study)}
      onAnnotationSave={(annotation) => console.log('Annotation saved:', annotation)}
    /&gt;
  );
}</code></pre>
            </div>
        </div>

        <div class="demo-section">
            <h3>üñ•Ô∏è OHIF Viewer Demo</h3>
            <p>Interactive OHIF viewer embedded in WebQX‚Ñ¢ dashboard:</p>
            
            <div class="language-selector">
                <label for="language">Language: </label>
                <select id="language" onchange="updateLanguage(this.value)">
                    <option value="en">English</option>
                    <option value="es">Espa√±ol</option>
                    <option value="fr">Fran√ßais</option>
                    <option value="de">Deutsch</option>
                </select>
            </div>
            
            <div class="mock-viewer" id="mockViewer">
                OHIF Viewer Integration
                <br>
                üìä CT Chest Study - Patient: Demo Patient
                <br>
                üéØ Series 1/3 - Image 45/120
            </div>
        </div>

        <div class="demo-section">
            <h3>üîê Role-Based Access Control Demo</h3>
            <div class="rbac-demo">
                <h4>User: Dr. Smith (Radiologist)</h4>
                <p><strong>Permissions:</strong> view_images, annotate_images, measure_images, download_images</p>
                <p><strong>Accessible Studies:</strong> All radiology studies, cardiac CT studies</p>
                <p><strong>Workflow:</strong> Radiology interpretation with advanced tools</p>
                
                <div class="code-sample">
                    <pre><code>// RBAC in action
const rbac = new ImagingRBAC();
const canAccess = rbac.canAccessStudy(user, study);
const permissions = rbac.getEffectivePermissions(user);

if (rbac.hasPermission(user, 'annotate_images')) {
  // Enable annotation tools
}</code></pre>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>üöÄ Performance Metrics</h3>
            <div class="performance-metrics">
                <p>Real-time performance monitoring and optimization:</p>
                <div class="metrics-grid" id="metricsGrid">
                    <div class="metric-item">
                        <div class="metric-value" id="loadTime">245ms</div>
                        <div class="metric-label">Load Time</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="cacheHit">87%</div>
                        <div class="metric-label">Cache Hit Rate</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="memory">156MB</div>
                        <div class="metric-label">Memory Usage</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="latency">12ms</div>
                        <div class="metric-label">Network Latency</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>üåç Multilingual Support Demo</h3>
            <div class="api-example">
                <h4>Localized DICOM Metadata</h4>
                <div id="dicomMetadata">
                    <p><strong id="patientName">Patient Name:</strong> Demo Patient</p>
                    <p><strong id="studyDate">Study Date:</strong> January 15, 2024</p>
                    <p><strong id="modality">Modality:</strong> Computed Tomography</p>
                    <p><strong id="seriesDesc">Series Description:</strong> Chest CT with contrast</p>
                </div>
                
                <div class="code-sample">
                    <pre><code>// Internationalization in action
import { t, formatDICOMDate } from './modules/imaging/i18n';

const localizedDate = formatDICOMDate('20240115', 'es'); // "15 ene 2024"
const title = t('viewer.title', 'fr', 'imaging'); // "Visualiseur OHIF"</code></pre>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>üéØ Custom Imaging Tools</h3>
            <div class="api-example">
                <h4>Advanced Annotation & Measurement Tools</h4>
                <p>DICOM-compliant imaging tools with specialty-specific features:</p>
                
                <div class="code-sample">
                    <pre><code>// Custom imaging plugin usage
const plugin = new WebQXImagingPlugin({
  user: currentUser,
  language: 'en',
  permissions: user.permissions,
  onAnnotationChange: (annotation) => saveToEHR(annotation),
  onMeasurementChange: (measurement) => updateClinicalNotes(measurement)
});

// Create annotations
const textAnnotation = plugin.createTextAnnotation(100, 200, 'Suspicious lesion');
const measurement = plugin.createLengthMeasurement(50, 50, 150, 150, 0.5);

// Export to DICOM
const dicomExport = plugin.exportToDICOM(annotations);</code></pre>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>üìä Integration Benefits</h3>
            <ul>
                <li><strong>Seamless WebQX‚Ñ¢ Integration:</strong> Native embedding with existing authentication and user management</li>
                <li><strong>Clinical Workflow Optimization:</strong> Specialty-specific configurations and tools</li>
                <li><strong>Compliance Ready:</strong> HIPAA-compliant audit logging and DICOM standards adherence</li>
                <li><strong>Performance Optimized:</strong> Intelligent caching and progressive loading for large datasets</li>
                <li><strong>Globally Accessible:</strong> Multilingual support for diverse healthcare environments</li>
                <li><strong>Extensible Architecture:</strong> Plugin-based system for custom imaging tools</li>
            </ul>
        </div>

        <div class="demo-section">
            <h3>üöÄ Getting Started</h3>
            <p>To integrate OHIF Viewer into your WebQX‚Ñ¢ deployment:</p>
            <ol>
                <li>Configure your DICOM server endpoint</li>
                <li>Initialize the imaging module with your settings</li>
                <li>Embed the OHIFViewer component in your dashboard</li>
                <li>Configure user roles and permissions</li>
                <li>Customize workflows for your specialties</li>
            </ol>
            
            <div class="code-sample">
                <pre><code>// Quick start configuration
const config = {
  dicomServerUrl: 'https://your-pacs.hospital.com',
  enableCache: true,
  cacheSize: 2048, // MB
  defaultLanguage: 'en',
  enablePerformanceMetrics: true,
  enableAuditLogging: true
};

const imaging = initializeImagingModule(config);</code></pre>
            </div>
        </div>
    </div>

    <script>
        // Demo interactivity
        function updateLanguage(lang) {
            const translations = {
                en: {
                    patientName: 'Patient Name:',
                    studyDate: 'Study Date:',
                    modality: 'Modality:',
                    seriesDesc: 'Series Description:'
                },
                es: {
                    patientName: 'Nombre del Paciente:',
                    studyDate: 'Fecha del Estudio:',
                    modality: 'Modalidad:',
                    seriesDesc: 'Descripci√≥n de la Serie:'
                },
                fr: {
                    patientName: 'Nom du Patient:',
                    studyDate: 'Date de l\'√âtude:',
                    modality: 'Modalit√©:',
                    seriesDesc: 'Description de la S√©rie:'
                },
                de: {
                    patientName: 'Patientenname:',
                    studyDate: 'Studiendatum:',
                    modality: 'Modalit√§t:',
                    seriesDesc: 'Serienbeschreibung:'
                }
            };
            
            const t = translations[lang];
            if (t) {
                document.getElementById('patientName').textContent = t.patientName;
                document.getElementById('studyDate').textContent = t.studyDate;
                document.getElementById('modality').textContent = t.modality;
                document.getElementById('seriesDesc').textContent = t.seriesDesc;
            }
        }
        
        // Simulate performance metrics updates
        function updateMetrics() {
            document.getElementById('loadTime').textContent = 
                Math.floor(Math.random() * 100 + 200) + 'ms';
            document.getElementById('cacheHit').textContent = 
                Math.floor(Math.random() * 20 + 80) + '%';
            document.getElementById('memory').textContent = 
                Math.floor(Math.random() * 100 + 120) + 'MB';
            document.getElementById('latency').textContent = 
                Math.floor(Math.random() * 20 + 5) + 'ms';
        }
        
        // Update metrics every 3 seconds
        setInterval(updateMetrics, 3000);
        
        // Initialize
        updateLanguage('en');
    </script>
</body>
</html>