# Environment Variables for WebQX Healthcare Platform

# Server Configuration
PORT=3000
NODE_ENV=production

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://username:password@hostname:port/database_name
DB_HOST=localhost
DB_PORT=5432
DB_NAME=webqx_healthcare
DB_USER=webqx_user
DB_PASSWORD=your_secure_password

# Firebase Configuration
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY_ID=your_private_key_id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_private_key\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=your_service_account@your_project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your_client_id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token

# Security & Authentication
JWT_SECRET=your_jwt_secret_key_min_32_characters
ENCRYPTION_KEY=your_encryption_key_for_hipaa_compliance
SESSION_SECRET=your_session_secret_key

# OAuth2 Central IDP Configuration
OAUTH2_ISSUER=https://auth.webqx.health
OAUTH2_AUTH_ENDPOINT=https://auth.webqx.health/oauth2/authorize
OAUTH2_TOKEN_ENDPOINT=https://auth.webqx.health/oauth2/token
OAUTH2_USERINFO_ENDPOINT=https://auth.webqx.health/oauth2/userinfo
OAUTH2_JWKS_URI=https://auth.webqx.health/.well-known/jwks.json
OAUTH2_REVOCATION_ENDPOINT=https://auth.webqx.health/oauth2/revoke

# OAuth2 Client Configuration
OAUTH2_CLIENT_ID=webqx-healthcare-platform
OAUTH2_CLIENT_SECRET=your_oauth2_client_secret
OAUTH2_REDIRECT_URI=http://localhost:3000/auth/oauth2/callback
OAUTH2_SCOPE=openid profile email patient/*.read patient/*.write user/*.read

# OAuth2 Token Configuration
OAUTH2_TOKEN_CACHE_ENABLED=true
OAUTH2_TOKEN_CACHE_TTL=300
OAUTH2_VALIDATE_AUDIENCE=true
OAUTH2_VALIDATE_ISSUER=true
OAUTH2_CLOCK_TOLERANCE=60
OAUTH2_ENABLE_REFRESH=true
OAUTH2_REFRESH_THRESHOLD=300

# OAuth2 RBAC Configuration
OAUTH2_RBAC_ENABLED=true
OAUTH2_ROLES_CLAIM=roles
OAUTH2_PERMISSIONS_CLAIM=permissions
OAUTH2_GROUPS_CLAIM=groups
OAUTH2_PATIENT_ID_CLAIM=patient_id
OAUTH2_USER_ID_CLAIM=sub
OAUTH2_EMAIL_CLAIM=email
OAUTH2_NAME_CLAIM=name
OAUTH2_DEFAULT_ROLES=patient

# OAuth2 Security Configuration
OAUTH2_ALLOWED_ALGORITHMS=RS256,RS384,RS512
OAUTH2_PKCE_ENABLED=true
OAUTH2_PKCE_METHOD=S256
OAUTH2_STATE_VALIDATION=true
OAUTH2_NONCE_VALIDATION=true

# OAuth2 Development Configuration (DO NOT USE IN PRODUCTION)
OAUTH2_SKIP_SIGNATURE_VERIFICATION=false
OAUTH2_MOCK_MODE=false

# External APIs
FHIR_SERVER_URL=https://your-fhir-server.com/fhir
HL7_ENDPOINT=https://your-hl7-integration.com
PHARMACY_API_URL=https://your-pharmacy-api.com
LAB_RESULTS_API_URL=https://your-lab-results-api.com
RXNAV_API_BASE_URL=https://rxnav.nlm.nih.gov/REST

# AI/NLP Services
WHISPER_API_URL=https://api.openai.com/v1/audio/transcriptions
WHISPER_API_KEY=your_whisper_api_key
OPENAI_API_KEY=your_openai_api_key
NLP_SERVICE_URL=https://your-nlp-service.com

# Whisper Configuration
WHISPER_TIMEOUT=30000
WHISPER_MAX_FILE_SIZE=26214400
WHISPER_CHUNK_DURATION=3000
WHISPER_SAMPLE_RATE=16000
WHISPER_ENABLE_VAD=true
WHISPER_SILENCE_THRESHOLD=0.01
WHISPER_MAX_SILENCE_DURATION=2000

# Healthcare Compliance
HIPAA_COMPLIANT_MODE=true
ENABLE_AUDIT_LOGGING=true
ENABLE_DATA_ENCRYPTION=true
PII_DETECTION_ENABLED=true

# Performance & Monitoring
ENABLE_RATE_LIMITING=true
MAX_REQUESTS_PER_MINUTE=60
ENABLE_IP_WHITELIST=false
ENABLE_PERFORMANCE_MONITORING=true
METRICS_ENDPOINT=https://your-metrics-endpoint.com

# Messaging & Communication
MATRIX_SERVER_URL=https://your-matrix-server.com
MEDPLUM_API_URL=https://api.medplum.com
SECURE_MESSAGING_KEY=your_secure_messaging_encryption_key

# Compliance & Audit
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years as per HIPAA
VAULT_SERVER_URL=https://your-vault-server.com
VAULT_TOKEN=your_vault_token

# Email Configuration
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USER=noreply@webqx.health
SMTP_PASSWORD=your_smtp_password
FROM_EMAIL=noreply@webqx.health

# Healthcare Integration
EPIC_CLIENT_ID=your_epic_client_id
EPIC_CLIENT_SECRET=your_epic_client_secret
CERNER_API_KEY=your_cerner_api_key
ALLSCRIPTS_API_KEY=your_allscripts_api_key

# Analytics & Monitoring
GRAFANA_URL=https://your-grafana-instance.com
METABASE_URL=https://your-metabase-instance.com
MONITORING_API_KEY=your_monitoring_api_key

# Localization
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,pt,zh,ar,hi,ja
TRANSLATION_API_KEY=your_translation_api_key

# Ottehr Integration
OTTEHR_API_BASE_URL=https://api.ottehr.com
OTTEHR_API_KEY=your_ottehr_api_key
OTTEHR_CLIENT_ID=your_ottehr_client_id
OTTEHR_CLIENT_SECRET=your_ottehr_client_secret
OTTEHR_ENVIRONMENT=sandbox
OTTEHR_WEBHOOK_SECRET=your_ottehr_webhook_secret
OTTEHR_TIMEOUT=30000
OTTEHR_ENABLE_NOTIFICATIONS=true
OTTEHR_ENABLE_ORDERING=true
OTTEHR_ENABLE_POS_INTEGRATION=true
OTTEHR_ENABLE_DELIVERY_TRACKING=true