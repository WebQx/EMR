# WebQx Healthcare Platform Deployment Configuration
# This file contains deployment settings and configurations

# Application Configuration
APP_NAME="webqx-healthcare-platform"
APP_DOMAIN="webqx.org"
APP_PORT=3000
APP_USER="webqx"
APP_GROUP="webqx"

# Deployment Paths
DEPLOYMENT_DIR="/opt/webqx"
BACKUP_DIR="/var/backups/webqx"
LOG_DIR="/var/log/webqx"

# Environment Settings
PRODUCTION_BRANCH="main"
STAGING_BRANCH="develop"
NODE_ENV="production"

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_RETRIES=10
HEALTH_CHECK_INTERVAL=3

# Database Configuration
DB_MIGRATION_TIMEOUT=300
DB_BACKUP_RETENTION_DAYS=30

# Security Settings
ENABLE_SSL=true
SSL_CERT_PATH="/etc/ssl/certs/webqx.org.crt"
SSL_KEY_PATH="/etc/ssl/private/webqx.org.key"

# Monitoring and Logging
ENABLE_AUDIT_LOGGING=true
LOG_RETENTION_DAYS=365
ENABLE_PERFORMANCE_MONITORING=true

# Notification Settings
SLACK_WEBHOOK_URL=""
NOTIFICATION_EMAIL="admin@webqx.org"
ENABLE_DEPLOYMENT_NOTIFICATIONS=true

# Rollback Configuration
MAX_BACKUP_RETENTION=10
ENABLE_AUTOMATIC_ROLLBACK=false
ROLLBACK_VERIFICATION_TIMEOUT=60

# Process Management
USE_PM2=true
PM2_INSTANCES=2
PM2_MAX_MEMORY_RESTART="500M"

# Docker Configuration (if using containerized deployment)
DOCKER_IMAGE="webqx/healthcare-platform"
DOCKER_TAG="latest"
DOCKER_REGISTRY="ghcr.io"

# Load Balancer Configuration
USE_LOAD_BALANCER=true
LB_HEALTH_CHECK_PATH="/health"
LB_TIMEOUT=30

# Cache Configuration
ENABLE_REDIS_CACHE=true
REDIS_URL="redis://localhost:6379"
CACHE_TTL=3600

# CDN Configuration
ENABLE_CDN=true
CDN_URL="https://cdn.webqx.org"
STATIC_ASSETS_PATH="/static"

# Backup Configuration
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_POLICY="7d"
ENABLE_DATABASE_BACKUP=true
ENABLE_FILE_BACKUP=true

# Performance Settings
MAX_REQUEST_SIZE="10mb"
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000

# HIPAA Compliance Settings
ENABLE_ENCRYPTION_AT_REST=true
ENABLE_ENCRYPTION_IN_TRANSIT=true
AUDIT_LOG_RETENTION_YEARS=7
ENABLE_DATA_MINIMIZATION=true

# Development/Staging Overrides
# These settings are used for non-production environments
DEV_SKIP_SSL=true
DEV_ENABLE_DEBUG_LOGGING=true
DEV_MOCK_EXTERNAL_APIS=true